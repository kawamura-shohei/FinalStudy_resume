% This is the magic command for latextools(ST3)
%!TEX root = ./Report.tex

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%  各種設定  %%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\setpagelayout{top=20truemm, bottom=20truemm, left=12truemm, right=12truemm}

\usepackage{xeCJK}
\usepackage{graphicx}
\usepackage{xcolor, color}
\usepackage{here}
\usepackage{ascmac}
\usepackage[hyphens]{url}
\urlstyle{tt}

%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% フォント指定(XeTeX) %%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% 1. macOS ユーザー向け設定
%% Hiragino, Helvetica, TimesNewRoman, RictyDiminishedDiscord  
	% \usepackage{fontspec}
	% % serifフォント（日本語）
	% \setCJKmainfont[BoldFont={HiraginoSans-W6}]{HiraMinProN-W3}
	% % sans-serifフォント（日本語）
	% \setCJKsansfont[BoldFont={HiraginoSans-W6}]{HiraginoSans-W3}
	% % serifフォント（欧文）
	% \setmainfont[ItalicFont={HelveticaNeue-LightItalic}, BoldFont={HelveticaNeue-Medium}, BoldItalicFont={HelveticaNeue-MediumItalic}]{TimesNewRomanPSMT}
	% % sans-serifフォント（欧文）
	% \setsansfont[ItalicFont={HelveticaNeue-LightItalic}, BoldFont={HelveticaNeue-Medium}, BoldItalicFont={HelveticaNeue-MediumItalic}]{HelveticaNeue-Light}

	% \setmonofont[ItalicFont={RictyDiminishedDiscord-Oblique}, BoldFont={RictyDiminishedDiscord-Bold}, BoldItalicFont={RictyDiminishedDiscord-BoldOblique}]{RictyDiminishedDiscord-Regular}
	% \setCJKmonofont[ItalicFont={RictyDiminishedDiscord-Oblique}, BoldFont={RictyDiminishedDiscord-Bold}, BoldItalicFont={RictyDiminishedDiscord-BoldOblique}]{RictyDiminishedDiscord-Regular}

% 2. NotoSansCJKjp、NotoSerifCJKjp、NotoSans、NotoSerif、RictyDiminishedDiscord
	\usepackage{fontspec}
	% serifフォント（日本語）
	\setCJKmainfont[BoldFont={NotoSansCJKjp-Medium}]{NotoSerifCJKjp-Light}
	% sans-serifフォント（日本語）
	\setCJKsansfont[BoldFont={NotoSansCJKjp-Medium}]{NotoSansCJKjp-Light}
	% serifフォント（欧文）
	\setmainfont[ItalicFont={NotoSerif-LightItalic}, BoldFont={NotoSerif-Medium}, BoldItalicFont={NotoSerif-MediumItalic}]{NotoSerif-Light}
	% sans-serifフォント（欧文）
	\setsansfont[ItalicFont={NotoSans-LightItalic}, BoldFont={NotoSans-Medium}, BoldItalicFont={NotoSans-MediumItalic}]{NotoSans-Light}

	\setmonofont[ItalicFont={RictyDiminishedDiscord-Oblique}, BoldFont={RictyDiminishedDiscord-Bold}, BoldItalicFont={RictyDiminishedDiscord-BoldOblique}]{RictyDiminishedDiscord-Regular}
	\setCJKmonofont[ItalicFont={RictyDiminishedDiscord-Oblique}, BoldFont={RictyDiminishedDiscord-Bold}, BoldItalicFont={RictyDiminishedDiscord-BoldOblique}]{RictyDiminishedDiscord-Regular}


% 日付フォーマット変更
\renewcommand{\today}{\the\year/\the\month/\the\day}

% \maketitle カスタマイズ
\usepackage{titling}
\pretitle{
	\vspace{-2.3cm} % タイトルを上に詰める
	\begin{center}
		\huge\sffamily % タイトル：hugeサイズ、ゴシック体
}
\posttitle{
	\end{center}
}
\preauthor{
	\vspace{\baselineskip}
	\begin{center}
		\large\sffamily % 著者名：largeサイズ、ゴシック体
}
\postauthor{
	\end{center}
}
\predate{
	\begin{center}
		\large\sffamily % 日付：largeサイズ、ゴシック体
}
\postdate{
	\end{center}
}


% セクションのスタイル変更
\usepackage{titlesec}
\titleformat*{\section}{\Large\bfseries\sffamily}
\titleformat*{\subsection}{\large\bfseries\sffamily}
\titleformat*{\subsubsection}{\normalsize\bfseries\sffamily}


% 参照マクロ
\newcommand{\fref}[1]{\textbf{図\ref{#1}}}
\newcommand{\Fref}[1]{\textbf{式\ref{#1}}}
\newcommand{\tref}[1]{\textbf{表\ref{#1}}}


% listings 設定
% listings: ソースコードを表示するためのプラグイン
\usepackage{listings}

% コード部分の色スタイルの設定
\definecolor{bkg}{gray}{0.95}
\definecolor{def}{gray}{0.00}
\definecolor{com}{gray}{0.60}
\definecolor{key}{rgb}{0.00, 0.00, 0.75}
\definecolor{str}{rgb}{0.20, 0.50, 0.15}

% ソースコードを表示するときのキャプション名
\renewcommand{\lstlistingname}{コード}

% 書式設定
\lstset{
   % プログラミング言語
   language={C},
   % 背景色
   backgroundcolor={\color{bkg}},
   % 基本の文字スタイル
   basicstyle={\small\ttfamily\color{def}},
   % 変数の文字スタイル
   identifierstyle={\small\ttfamily\color{def}},
   % コメントの文字スタイル
   commentstyle={\color{com}},
   % 予約語の文字スタイル
   keywordstyle={\bfseries\color{key}},
   % 非予約語の文字スタイル (よくわからない)
   ndkeywordstyle={\small\color{def}},
   % 文字列リテラルのスタイル
   stringstyle={\bfseries\color{str}},
   % 枠線の設定
   % t, r, b, l: それぞれ上、右、下、左の1本線
   % T, R, B, L: それぞれ上、右、下、左の2本線
   frame={tlRB},
   % 長い文を改行するかどうか
   breaklines=true,
   % 横幅間隔の調整
   columns=[l]{fullflexible},
   % 左右のマージン
	 xrightmargin=0\zw,
   xleftmargin=1\zw,
   framexleftmargin=3pt,
   % 行番号の位置
   numbers=left,
   % 行番号のスタイル
   numberstyle={\ttfamily\small},
   % 行番号とコード本文の間の空白
	 numbersep=1\zw,
   % 行番号の刻み
   stepnumber=1,
   % コメント行の継続の設定
	morecomment=[l]{//}
}
\newcommand{\cref}[1]{\textbf{\lstlistingname\ref{#1}}}
